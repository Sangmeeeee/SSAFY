문제 : [궁금한 민호](https://www.acmicpc.net/problem/1507)

알고리즘 종류 : 플로이드와샬

참조 url : https://steady-coding.tistory.com/105

# 1. 알고리즘 설명

![image](https://user-images.githubusercontent.com/24482602/162492014-970568b7-61a6-4844-9fd7-397319fbdc3e.png)

test case의 모든 노드에 대해 최단거리를 표현했을 때 나오는 그래프이다.

여기서 정답으로 인정되는 부분은 빨간색 간선이며 나머지 파란색 간선은 문제가 있는 부분이다.

만약 1 -> 3으로 가는 최단거리를 구한다고 할 때 경우의 수는 두가지가 존재한다.

    1. 1 -> 2 -> 3

    2. 1 -> 3

여기서 문제가 되는 부분은 1 -> 3인 부분이다.

일단 1 -> 2 -> 3과 1 -> 3의 거리는 같다. 그렇다면 왜 1 -> 3은 불가능한걸까?

그 이유는 두가지이다.

    1. 최소한의 간선 사용
    2. 2 -> 3으로 가는 최단거리가 9이기 때문

단순히 1 -> 3으로 볼게 아니라 from, to, mid로 대치해서 살펴보자면

만약 from -> to로 가는 최단거리나

from -> mid -> to로 가는 최단거리가 같을경우

from -> mid -> to로 가는 최단거리를 선택해줘야한다.

from에서 to로 가는 경우가 인정이 된다면 최악의 경우 3개, 최선의 경우 2개의 간선이 생긴다.

예를 들어 최악은 1 -> 2, 2 -> 3, 1 -> 3으로 가는 간선이 생긴다.

최선은 1 -> 2, 1 -> 3, 2 -> 1 -> 3(사실 논리적으로 맞지 않음)

만약 from -> mid -> to로 가는 경우를 인정한다면

최악의 경우 2개, 최선의 경우가 2개로 고정이 된다.

1 -> 2, 2 -> 3

두가지 예시 중에서 무조건 아래를 선택해야한다. 물론 일반적인 그래프라면 절대절대절대 이런 선택을 해서는 안된다.

하지만 이 문제에서 사용하는 그래프는 일단 다익스트라를 통해 나온 그래프이고 최소한의 간선 개수를 사용해야하기 때문에

실질적으로 1 -> 2, 2 -> 3, 1 -> 3 으로 가는 간선이 우연의 일치로

    1 -> 2 = 6
    2 -> 3 = 9
    1 -> 3 = 15

와 같이 있었더라도 1 -> 3으로 가는 간선은 탈락한다.

그럼 위와같은 원리를 사용해서 코드를 작성해보면

1. 일단 실제 노드들간의 간선을 표시할 배열을 준비해주고 일단 주어진 그래프와 동일한 값을 넣는다.
2. 플로이드 와샬 알고리즘을 통해 주어진 그래프가 플로이드 와샬 알고리즘을 만족하는지 검사한다.
3. 만약 플로이드 와샬 알고리즘을 만족하고, from -> to의 최단거리가 from -> mid + mid -> to를 만족하면 해당 from -> to 간선은 폐지(-1을 집어넣음)한다.
4. 모든 from, mid, to에 대해 실제 노드들간의 간선을 표시한 배열을 완성하고 해당 배열을 돌면서 -1이 아닌 값만 더해준다.

# 2. 새로 배운 내용